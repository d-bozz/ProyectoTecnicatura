<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
      xmlns:o="http://primefaces.org/ui">

<h:head>
<h:outputStylesheet name="css/bootstrap.min.css"/>
<link rel="stylesheet" href="../resources/css/styleusuario.css"/>
<link rel="stylesheet" href="../resources/css/style.css"/>
</h:head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-success fixed-top">
    <div class="container">
      <a class="navbar-brand" href="../GestionUsuarios/Index.xhtml">Green Place</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="../GestionUsuarios/GestionUsuarios.xhtml">Gestión de Usuarios
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../GestionObservaciones/ListadoObservaciones.xhtml">Gestión de Observaciones
            <span class="badge badge-light"> #{observacion.totalPen}</span>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../GestionReportes/GestionReportes.xhtml">Gestión de Reportes</a>
          </li>
          <li>
            <div class="badge badge-light" style="float:left;margin-top:12px">
             #{login.username} 
             </div>
          </li>
          <li>
               <h:form class="form-group">
               <h:commandLink action="#{login.logout}" value="Salir" class="btn btn-success"></h:commandLink>
               </h:form>
          </li>
        </ul>
      </div>
    </div>
  </nav>
	
	
	<h:form class="form-group" style="margin-top: 50px;margin-left:10px">
			
		<p:messages id="messages" showDetail="true" closable="true">
        <p:autoUpdate/>
    </p:messages>
	
		</h:form><br/>

	<h3 style="text-align:center">Observaciones Pendientes</h3>
	<hr />
		
    <h:form id="formTabla">
	<p:dataTable value="#{observacion.observacionesPendientes}"
		var="obseTabla"
		   style="margin-bottom:40px"
		   rows="10"
		   		 rowStyleClass="table-info"
                 paginator="true"
                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                 rowsPerPageTemplate="5,10,15">
   
  		<p:column headerText="Código" sortBy="#{obseTabla.codigo_OBS}">
           <h:outputText value="#{obseTabla.codigo_OBS}" />
        </p:column>
        
   		<p:column headerText="Nombre" sortBy="#{obseTabla.usuario.usuario}">
           <h:outputText value="#{obseTabla.usuario.usuario}" />
        </p:column>
		
		<p:column headerText="Fenómeno" sortBy="#{obseTabla.fenomeno.nombreFen}">
           <h:outputText value="#{obseTabla.fenomeno.nombreFen}" />
        </p:column>
        
        <p:column headerText="Localidad" sortBy="#{obseTabla.localidad.nombreLoc}">
           <h:outputText value="#{obseTabla.localidad.nombreLoc}" />
        </p:column>
        
        <p:column headerText="Descripción" sortBy="#{obseTabla.descripcion}">
           <h:outputText value="#{obseTabla.descripcion}" />
        </p:column>
        
        <p:column headerText="Estado" sortBy="#{obseTabla.estado.nombre}">
           <h:outputText value="#{obseTabla.estado.nombre}" />
        </p:column>
		
		<p:column>
			<f:facet name="header">Ver Detalle</f:facet>
			<h:link value="Ver detalle" outcome="DetalleObservacion.xhtml" class="badge badge-success">
    			<f:param name="id" value="${obseTabla.id}" />
			</h:link>
		</p:column>		
	</p:dataTable>
					<div style="display:block; text-align:center; margin-top: 50px" >		
	               <span class="badge badge-light"> #{observacion.SinObservaciones()}</span>
	               </div> 
	</h:form>
	<div id="footer">
		<div class="container">
			<div class="row">
				<div class="col-md-3">
					<img id="footer-logo" src="../resources/img/404-notfound-logo.png" alt="Logo404" />
					 
				</div><!-- /.col -->
				<div class="col-md-3">
					<ul>
						<li><a href="../GestionUsuarios/GestionUsuarios.xhtml">Gestión de Usuarios</a></li>
						<li><a href="../GestionObservaciones/ListadoObservaciones.xhtml">Gestión de Observaciones</a></li>
						<li><a href="../GestionReportes/GestionReportes.xhtml">Gestión de Reportes</a></li>
					</ul>
				</div><!-- /.col -->
				<div class="col-md-3">
					<ul>
						<li><a href="../GestionUsuarios/sobrenosotros.xhtml">Sobre Nosotros</a></li>
						<li><a href="mailto:404NotFound@gmail.com?body=Escriba su mensaje&amp;subject=Consulta desde el formulario de contacto" data-toggle="modal" data-target="#contacto-modal">Contacto</a></li>
					</ul>
				</div><!-- /.col -->
				<div class="col-md-3">
					<p style="color:#DDD;">Copyright &copy; 404-NotFound</p>
				</div><!-- /.col -->
			</div><!-- /.row -->

		</div><!-- /.container -->
	</div>

</body>
</html>
