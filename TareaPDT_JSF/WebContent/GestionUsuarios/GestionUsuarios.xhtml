<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
<h:outputStylesheet name="css/bootstrap.min.css"/>
<link rel="stylesheet" href="../resources/css/styleusuario.css"/>
<ui:insert name="index"/>
</h:head>
<body>
	
	<nav class="navbar navbar-expand-lg navbar-dark bg-success fixed-top"  style="border-bottom: 4px solid #FF8F00;">
    <div class="container">
      <a class="navbar-brand" href="../GestionUsuarios/Index.xhtml">Green Place</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive" >
        <ul class="navbar-nav ml-auto" >
          <li class="nav-item active">
            <a class="nav-link" href="../GestionUsuarios/GestionUsuarios.xhtml">Gestion de Usuarios     </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../GestionObservaciones/ListadoObservaciones.xhtml">Gestion de Observaciones
            <span class="badge badge-light"> #{observacion.totalPen}</span>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../GestionReportes/GestionReportes.xhtml">Gestion de Reportes</a>
          </li>
          <li>
            <div class="badge badge-primary">
             #{login.username} 
             </div>
          </li>
          <li>
               <h:form class="form-group">
               <h:commandLink action="#{login.logout}" value="Salir" class="btn btn-success"></h:commandLink>
               </h:form>
          </li>
        </ul>
      </div>
    </div>
  </nav>
	
	<h:form class="form-group">
		<h:messages style="color:red;margin:8px;" />
		<h:commandLink value="Alta de usuario" 	action="AltaUsuario" class="btn btn-outline-success" style="margin-top: 100px"></h:commandLink>
		
			
			
				<div class="form-row">
				
	  		     <div class="form-group col-md-4" style="margin-top: 100px;margin-left:15px"> 
		   			<h:outputLabel value="Usuario" id="usuario" />
					<h:inputText for="usuario" value="#{usuario.usuario}" class="form-control"/>  
				 </div>
				 <div class="form-group col-md-4" style="margin-top: 100px">
				 
					<h:outputLabel value="Nombre"/>
					<h:inputText id="nombre" value="#{usuario.nombre}" class="form-control" />
			    </div>
			    <div class="form-group col-md-3" style="margin-top: 132px">
					<h:commandButton action="#{usuario.seleccionarUsuarios()}" value="Filtrar" class="btn btn-outline-success"></h:commandButton>
   			    </div>
   			   </div> 
				
			
			
				
				
	</h:form>

	<h3 style="text-align:center;">Usuarios seleccionados</h3>
	<h:form id="formTabla" >
	<h:dataTable  value="#{usuario.usuariosSeleccionados}"
		var="usuTabla"
		  class="table table-striped table-dark">
   
		<h:column>
			<f:facet name="header">Username</f:facet>    				
      		#{usuTabla.usuario}
   		</h:column>
   		<h:column>
   			<f:facet name="header">TipoUsuario</f:facet>
   			#{usuTabla.tipousuario.nombre}
   		</h:column>

		<h:column>
			<f:facet name="header">Nombre</f:facet>
		      #{usuTabla.nombre}
		</h:column>

		<h:column>
			<f:facet name="header">Apellido</f:facet>
      		#{usuTabla.apellido}
   		</h:column>

		<h:column>
			<f:facet name="header">Mail</f:facet>
      		#{usuTabla.mail}
		</h:column>
		
		<h:column>
			<f:facet name="header">Ver Detalle</f:facet>
			<h:link value="Ver detalle" outcome="DetalleUsuario.xhtml" class="badge badge-success">
    			<f:param name="id" value="${usuTabla.id}" />
			</h:link>
		</h:column>
		
		<h:column>
			<f:facet name="header">Modificar</f:facet>
			<h:link value="Modificar usuario" outcome="ModificarUsuario.xhtml" class="badge badge-info">
    			<f:param name="id" value="${usuTabla.id}" />
			</h:link>
		</h:column>
		
		<h:column>
			<f:facet name="header">Dar de baja</f:facet>
			<h:link value="Dar de baja" outcome="BajaUsuario.xhtml" class="badge badge-danger">
    			<f:param name="id" value="${usuTabla.id}" />
			</h:link>
		</h:column> 
		
	</h:dataTable>
	</h:form>
	<div id="footer">
		<div class="container">
			<div class="row">
				<div class="col-md-3">
					<img id="footer-logo" src="../resources/img/404-notfound-logo.png" alt="Logo404" />
					 
				</div><!-- /.col -->
				<div class="col-md-3">
					<ul>
						<li><a href="../GestionUsuarios/GestionUsuarios.xhtml">Gestion de Usuarios</a></li>
						<li><a href="../GestionObservaciones/ListadoObservaciones.xhtml">Gestion de Observaciones</a></li>
						<li><a href="../GestionReportes/GestionReportes.xhtml">Gestion de Reportes</a></li>
					</ul>
				</div><!-- /.col -->
				<div class="col-md-3">
					<ul>
						<li><a href="sobre-nosotros.html">Sobre Nosotros</a></li>
						<li><a href="#" data-toggle="modal" data-target="#contacto-modal">Contacto</a></li>
					</ul>
				</div><!-- /.col -->
				<div class="col-md-3">
					<p style="color:#DDD;">Copyright &copy; 404-NotFound</p>
				</div><!-- /.col -->
			</div><!-- /.row -->

		</div><!-- /.container -->
	</div>
</body>
</html>
